# Описание значений файлов данных

Значения можно менять по своему усмотрению.  
Ниже описаны назначения каждого поля.  

### [client.json](client.json)

Содержит данные аутентификации, аналогичные Клиенту (Информационной Базе) 1С:Шина

В 1С:Предприятие для подключения к сервису интеграции указываем

- адрес: адрес аналогичный адресу приложения 1С:Шины  
Имеет вид:  
`http://{host_fake_server}:{port}/applications/{application_name}`
- логин: значение `client_id`
- пароль: значение `client_secret`

Значения пользователь задает самостоятельно и в дальшейшем использует в 1С:Предприятие.  

### [get_token.json](get_token.json)

Повторяет файл ответа 1С:Шины на запрос получения токена `/auth/oidc/token`.  

Для каждого `client_id` хранится свой набор данных токена. 

`token_type` и `access_token` - константные значения.  
`id_token` - можно менять произвольно.  

Следует помнить, что Авторизация в RabbitMQ выполняется по паре `логин:пароль` как `id_token:id_token`

### [get_metadata.json](get_metadata.json)

Повторяет файл ответа 1С:Шины на запрос получения токена  
`/applications/<application_name>/sys/esb/metadata/channels`.  

Данные хранятся в разрезе `application_name:token_type`.

`process` - имя процесса интеграции шины  
`channel` - имя канала шины  
`access` - вариант доступа.  
- Исходящий канал 1С - Входящий канал Шины = "WRITE_ONLY"
- Входящий канал 1С - Исходящий канал Шины = "READ_ONLY"

Содержит вообще все каналы процесса интеграции 1С:Шины.  
Служит только для загрузки каналов в СервисИнтеграции в режиме конфигуратора.  

Имеет смысл в файл добавлять только те каналы, которые будут указаны в следующем файле.

### [get_runtime_channels.json](get_runtime_channels.json)

Повторяет файл ответа 1С:Шины на запрос получения токена  
`/applications/<application_name>/sys/esb/runtime/channels`.  

Данные хранятся в разрезе `application_name:token_type`.

`process` - имя процесса интеграции шины (должен совпадать с предыдущим файлом)  
`channel` - имя канала шины (должен совпадать с предыдущим файлом)  
`destination` - ключ канала.  

*ВАЖНО! Именно он будет именем канала в RabbitMQ.*  

**Значения имен каналов могут совпадать! (в отличие от 1С:Шины)**  
Тогда канал RabbinMQ будет для клиента одновременно получателем/отправителем.

Содержит вообще все активные каналы процесса интеграции 1С:Шины, подключенные к данному "Клиенту".  

Служит для установки соединения с каналами, для их идентификации.  


## Файлы вида app-*.json

Являются вариантом "все в одном".  
Содержат сразу все данные.

При загузке конвертируются в файлы-ответов сервиса (см.выше).  
 